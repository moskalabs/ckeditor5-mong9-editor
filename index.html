<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>SmartEditor2 예제</title>

  <!-- jQuery 추가 (SmartEditor가 이걸 필요로 해) -->
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

  <!-- SmartEditor 스크립트 추가 (상대 경로로 설정) -->
  <script type="text/javascript" src="smarteditor/js/HuskyEZCreator.js" charset="UTF-8"></script>

  <script>
    if (!M9_SET) { var M9_SET = {}; }
    M9_SET['mong9_editor_use'] = '1'; // Mong9 에디터 사용
    M9_SET['mong9_url'] = 'https://moskalabs.github.io/mong9-editor/smarteditor2/mong9-editor/'; // 몽9 에디터 주소
    M9_SET["google_token"] = "AIzaSyAMdgTVhn64xo2Tpf0ewdtR055w68hAHOs"; // 구글지도 토큰(구글지도 사용시, 인증토큰이 필요합니다.)
  </script>
    
  <script src="./smarteditor2/mong9-editor/source/js/mong9.js"></script>
    
  <link rel="stylesheet" href="./smarteditor2/mong9-editor/source/etc/bootstrap-icons/bootstrap-icons.min.css">
  <link rel="stylesheet" href="./smarteditor2/mong9-editor/source/css/mong9-base.css">
  <link rel="stylesheet" href="./smarteditor2/mong9-editor/source/css/mong9.css">
  <link rel="stylesheet" href="./smarteditor2/mong9-editor/source/css/mong9-m.css" media="all and (max-width: 768px)">
  <link rel="stylesheet" href="./smarteditor2/mong9-editor/source/css/mong9-e.css" media="all and (max-width: 576px)">
</head>
<body>

  <form name="editorForm" method="post" action="/submit">
    <!-- 에디터가 들어갈 textarea -->
    <textarea name="editor_txt" id="editor_area" style="width:600px; height:300px;"></textarea>
  </form>

  <button type="button" onclick="submitContents()">전송</button>

  <script>
    var oEditors = [];

    $(document).ready(function () {
      nhn.husky.EZCreator.createInIFrame({
        oAppRef: oEditors,
        elPlaceHolder: "editor_area",
        // SmartEditor2Skin.html 경로 (상대 경로로 설정)
        sSkinURI: "smarteditor/SmartEditor2Skin.html",
        fCreator: "createSEditor2"
      });
      
      // 몽9 에디터 연결
      if (typeof M9_SET !== 'undefined' && M9_SET['mong9_editor_use'] === '1') {
        var script1 = document.createElement('script');
        script1.src = "./smarteditor2/mong9-editor/source/js/mong9-connect.js";
        document.head.appendChild(script1);
      }
    });

    function submitContents() {
      // 에디터 내용을 textarea에 반영
      oEditors.getById["editor_area"].exec("UPDATE_CONTENTS_FIELD", []);
      // 정적 사이트라 서버가 없으니 일단 내용 확인용 알림창 띄움
      alert("에디터 내용: " + document.getElementById("editor_area").value);
    }
  </script>
</body>
</html>